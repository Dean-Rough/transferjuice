{"version":3,"names":["cov_142clvjdtc","actualCoverage","React","BriefingCard","PolaroidFrame","jsx","_jsx","jsxs","_jsxs","CardBasedLayout","_ref","_briefing$_count","briefing","onShare","_ref$className","className","b","f","sections","s","content","visualTimeline","polaroidMap","Map","items","forEach","item","polaroid","set","id","concat","children","title","main","subtitle","Date","timestamp","toLocaleDateString","weekday","day","month","year","hour","minute","readTime","_count","feedItems","onClick","map","section","index","_Array$from","_Array$from2","_Array$from3","type","size","image","url","Array","from","values","altText","caption","angle","Math","random","tags","length","bt","tag","name"],"sources":["CardBasedLayout.tsx"],"sourcesContent":["/**\n * Card-Based Briefing Layout\n * Sky Sports Transfer Centre inspired layout with story cards\n */\n\nimport React from \"react\";\nimport { BriefingCard } from \"./BriefingCard\";\nimport { PolaroidFrame } from \"./PolaroidFrame\";\nimport type { BriefingWithRelations, BriefingSection } from \"@/types/briefing\";\n\ninterface CardBasedLayoutProps {\n  briefing: BriefingWithRelations;\n  onShare?: (platform: string) => void;\n  className?: string;\n}\n\nexport function CardBasedLayout({\n  briefing,\n  onShare,\n  className = \"\",\n}: CardBasedLayoutProps) {\n  const sections = briefing.content as BriefingSection[];\n  const visualTimeline = briefing.visualTimeline as any;\n\n  // Extract polaroids for inline display\n  const polaroidMap = new Map<string, any>();\n  if (visualTimeline?.items) {\n    visualTimeline.items.forEach((item: any) => {\n      if (item.polaroid) {\n        // Map polaroids to sections they relate to\n        polaroidMap.set(item.id, item.polaroid);\n      }\n    });\n  }\n\n  return (\n    <div className={`max-w-4xl mx-auto ${className}`}>\n      {/* Header */}\n      <header className=\"mb-8 text-center\">\n        <h1 className=\"text-4xl md:text-5xl font-black mb-2\">\n          {briefing.title.main}\n        </h1>\n        {briefing.title.subtitle && (\n          <p className=\"text-xl text-zinc-400\">{briefing.title.subtitle}</p>\n        )}\n\n        <div className=\"mt-4 flex items-center justify-center gap-4 text-sm text-zinc-500\">\n          <time>\n            {new Date(briefing.timestamp).toLocaleDateString(\"en-GB\", {\n              weekday: \"long\",\n              day: \"numeric\",\n              month: \"long\",\n              year: \"numeric\",\n              hour: \"2-digit\",\n              minute: \"2-digit\",\n            })}\n          </time>\n          <span>•</span>\n          <span>{briefing.readTime} min read</span>\n          <span>•</span>\n          <span>{briefing._count?.feedItems || 0} stories</span>\n        </div>\n\n        {/* Share buttons */}\n        {onShare && (\n          <div className=\"mt-4 flex items-center justify-center gap-2\">\n            <button\n              onClick={() => onShare(\"twitter\")}\n              className=\"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded text-sm transition-colors\"\n              aria-label=\"Share on Twitter\"\n            >\n              Share on X\n            </button>\n            <button\n              onClick={() => onShare(\"copy\")}\n              className=\"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded text-sm transition-colors\"\n              aria-label=\"Copy link\"\n            >\n              Copy Link\n            </button>\n          </div>\n        )}\n      </header>\n\n      {/* Story Cards */}\n      <div className=\"space-y-6\">\n        {sections.map((section, index) => (\n          <div key={section.id} className=\"relative\">\n            <BriefingCard\n              section={section}\n              timestamp={briefing.timestamp}\n              index={index}\n            />\n\n            {/* Inline Polaroid - positioned after specific story types */}\n            {section.type === \"transfer\" &&\n              index % 3 === 1 &&\n              polaroidMap.size > 0 && (\n                <div className=\"mt-6 flex justify-center\">\n                  <div className=\"relative\">\n                    <PolaroidFrame\n                      image={{\n                        url:\n                          Array.from(polaroidMap.values())[\n                            index % polaroidMap.size\n                          ]?.url || \"/placeholder.jpg\",\n                        altText:\n                          Array.from(polaroidMap.values())[\n                            index % polaroidMap.size\n                          ]?.altText || \"Player\",\n                      }}\n                      caption={\n                        Array.from(polaroidMap.values())[\n                          index % polaroidMap.size\n                        ]?.caption\n                      }\n                      timestamp={new Date()}\n                      angle={Math.random() * 10 - 5}\n                    />\n                    <div className=\"absolute -bottom-2 left-1/2 transform -translate-x-1/2 text-xs text-zinc-600 font-mono\">\n                      Via Wikipedia Commons\n                    </div>\n                  </div>\n                </div>\n              )}\n          </div>\n        ))}\n      </div>\n\n      {/* Footer */}\n      <footer className=\"mt-12 pt-8 border-t border-zinc-800\">\n        <div className=\"text-center\">\n          <p className=\"text-sm text-zinc-500 mb-4\">\n            The Terry needs a lie down after all that. Same time next hour?\n          </p>\n\n          {/* Related Tags */}\n          {briefing.tags && briefing.tags.length > 0 && (\n            <div className=\"flex flex-wrap justify-center gap-2\">\n              {briefing.tags.map((bt: any) => (\n                <span\n                  key={bt.tag.id}\n                  className=\"text-xs px-3 py-1 bg-zinc-800 rounded-full\"\n                >\n                  #{bt.tag.name}\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}